{% macro navbar(tempctrl_active) %}

<script>

  $(document).ready(function() {
    if ("{{ tempctrl_active }}" == "True") {
      $('#nav-btn-tempctrl-active').addClass('btn-success');
    }

    var socket = io.connect('http://' + document.domain + ':' + location.port);

    $('#nav-btn-tempctrl-active').click(function() {
      $(this).toggleClass('btn-success');

      var active = $(this).hasClass('btn-success');
      socket.emit('enable_tempctrl', {'data': active});
    });

  });

</script>

<ul class="nav navbar-nav navbar-left">
  <li id="nav_home"><a href="{{ url_for('index') }}">Home</a></li>
  {#
  <li class="dropdown">
    <a id="nav_steps" href="{{ url_for('handle_steps') }}" class="dropdown-toggle" data-toggle="dropdown" role="button">Ablauf<span class="caret"></a>
    <ul class="dropdown-menu">
      <li><a href="{{ url_for('handle_steps') }}">Übersicht</a></li>
      <li role="separator" class="divider"></li>
      <li><a href="{{ url_for('add_step') }}">Schritt hinzufügen</a></li>
    </ul>
  </li>

  <li class="dropdown">
    <a id="nav_temp" href="{{ url_for('handle_temp') }}" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Temperaturverlauf<span class="caret"></span></a>
    <ul class="dropdown-menu">
      <li><a href="{{ url_for('handle_temp') }}">Diagramm</a></li>
      <li role="separator" class="divider"></li>
      <li id="start_recording"{% if recording_enabled %b} class="disabled"{% endif %}><a href="#">Aufzeichnung starten</a></li>
      <li id="stop_recording"{% if not recording_enabled %} class="disabled"{% endif %}><a href="#">Aufzeichnung stoppen</a></li>
      <li role="separator" class="divider"></li>
      <li><a id="clear_data" href="#" data-toggle="modal" data-target="#mdlDeleteTemp" >Aufzeichnung löschen</a></li>
    </ul>
  </li>
  #}

  <li class="dropdown">
    <a id="nav-progress" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">
      Messdaten
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
      <li><a href="{{ url_for('measurement_data') }}">Anzeigen</a></li>
      <li role="separator" class="divider"></li>
      <li><a href="#">Laden...</a></li>
      <li><a href="#">Speichern...</a></li>
      <li role="separator" class="divider"></li>
      <li><a href="#">Aufzeichnung starten</a></li>
      <li class="disabled"><a href="#">Aufzeichnung anhalten</a></li>
      <li class="disabled"><a href="#">Aufzeichnung stoppen</a></li>
    </ul>
  </li>

  <li class="drowdown">
    <a href="#" class="drowdown-toggle" data-toggle="dropdown" role="button">Einstellungen<span class="caret"></span></a>
    <ul class="dropdown-menu">
      <li id="nav-edit-steps"><a href="{{ url_for('steps') }}">Schritte bearbeiten</a></li>
      <li id="nav-tempctrl"><a href="{{ url_for('tempctrl_settings') }}">Temperaturregelung</a></li>
    </ul>
  </li>
</ul>

<ul class="nav navbar-nav">
  <li><button id="nav-btn-tempctrl-active" class="btn navbar-btn">Temperaturregler</button></li>
</ul>

{% endmacro %}